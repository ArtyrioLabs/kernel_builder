# Kernel Builder Bot

Telegram –±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏ —è–¥–µ—Ä Linux —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ESP8266.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Ä–∞–±–æ—Ç–∞—é—Ç –≤—Å–µ–≥–¥–∞):
- üîß –ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏ —è–¥—Ä–∞
- üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã
- üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∞–º–∏ —Å–±–æ—Ä–∫–∏
- üì¶ –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–æ–≤ –¥–ª—è –ø—Ä–æ—à–∏–≤–∫–∏
- üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–±–æ—Ä–∫–µ
- üìù –°–ø–∏—Å–æ–∫ –ø–∞—Ç—á–µ–π –¥–ª—è —Å–±–æ—Ä–∫–∏
- ‚õîÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–±–æ—Ä–∫–∏

### –§—É–Ω–∫—Ü–∏–∏ ESP8266 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
- üì± –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ –¥–∏—Å–ø–ª–µ–µ
- üíæ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏ –Ω–∞ SD-–∫–∞—Ä—Ç–µ
- üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ ESP8266
- üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install python-telegram-bot python-dotenv requests psutil
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `env_example.txt`:

```bash
cp env_example.txt .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:

```env
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
BOT_TOKEN=your_telegram_bot_token_here
CHAT_ID=your_chat_id_here

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ESP8266
ESP_IP=192.168.1.100
ESP_ENABLED=false
```

### 3. –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

#### –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ä–µ–∂–∏–º (–±–µ–∑ ESP8266)
```env
ESP_ENABLED=false
```

–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω–æ, –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ ESP8266 –æ—Ç–∫–ª—é—á–µ–Ω—ã.

#### –†–µ–∂–∏–º —Å ESP8266
```env
ESP_ENABLED=true
ESP_IP=192.168.1.100
```

–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ESP8266 –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞–º–∏.

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (–≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã):
- `/start` - –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
- `/build` - –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–±–æ—Ä–∫—É —è–¥—Ä–∞
- `/status` - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
- `/logs` - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ª–æ–≥–æ–≤
- `/clean` - –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏
- `/stopbuild` - –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–±–æ—Ä–∫—É
- `/lastzip` - –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∞—Ä—Ö–∏–≤ –ø—Ä–æ—à–∏–≤–∫–∏
- `/buildinfo` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–±–æ—Ä–∫–µ
- `/patchlist` - –°–ø–∏—Å–æ–∫ –ø–∞—Ç—á–µ–π –¥–ª—è —Å–±–æ—Ä–∫–∏
- `/help` - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É

### –ö–æ–º–∞–Ω–¥—ã ESP8266 (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ ESP_ENABLED=true):
- `/lsd` - –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –Ω–∞ SD-–∫–∞—Ä—Ç–µ
- `/getfile <–∏–º—è>` - –°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª —Å SD-–∫–∞—Ä—Ç—ã
- `/deletefile <–∏–º—è>` - –£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª –Ω–∞ SD-–∫–∞—Ä—Ç–µ
- `/uploadfile` - –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –Ω–∞ SD-–∫–∞—Ä—Ç—É
- `/clearlog` - –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥ –Ω–∞ SD-–∫–∞—Ä—Ç–µ
- `/sdinfo` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ SD-–∫–∞—Ä—Ç–µ
- `/rebootesp` - –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å ESP8266
- `/webui` - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ESP8266

## –ó–∞–ø—É—Å–∫

```bash
python bot.py
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
kernel_builder/
‚îú‚îÄ‚îÄ bot.py              # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ build.sh            # –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ —è–¥—Ä–∞
‚îú‚îÄ‚îÄ .env                # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (—Å–æ–∑–¥–∞—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ)
‚îú‚îÄ‚îÄ env_example.txt     # –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îú‚îÄ‚îÄ logs/               # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –ª–æ–≥–∞–º–∏
‚îú‚îÄ‚îÄ zips/               # –ê—Ä—Ö–∏–≤—ã –¥–ª—è –ø—Ä–æ—à–∏–≤–∫–∏
‚îî‚îÄ‚îÄ AnyKernel/          # –®–∞–±–ª–æ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞—Ä—Ö–∏–≤–æ–≤
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ë–æ—Ç –≤–µ–¥–µ—Ç –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª–µ `bot.log` –∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `logs/`. –°—Ç–∞—Ä—ã–µ –ª–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è (–º–∞–∫—Å–∏–º—É–º 10 —Ñ–∞–π–ª–æ–≤).

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ –∫–æ–º–∞–Ω–¥—ã ESP8266 –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Å—Ç–∞—Ç—É—Å ESP_ENABLED
- –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ ESP8266 –±–æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –õ–æ–≥–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö 